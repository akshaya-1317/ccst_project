package tests;

import org.testng.Assert;
import org.testng.annotations.DataProvider;
import org.testng.annotations.Test;
import org.testng.asserts.SoftAssert;

import base.Baseclass;
import pages.CenterHeadLogin;
import util.csvreader;


public class LoginTestCases extends Baseclass {
	
	@DataProvider(name = "loginData")
    public Object[][] getData() {
        // Path to your CSV file based on your project structure
        String filePath = System.getProperty("user.dir") + "/src/main/resources/testdata/LoginData.csv";
        return csvreader.getTestData(filePath);
    }

    @Test(priority=1, dataProvider = "loginData")
    public void verifyLogin(String username, String password) {
        CenterHeadLogin chl = new CenterHeadLogin(driver);
        
        // Using parameters from CSV
        chl.chlogin(username, password);

        SoftAssert sa = new SoftAssert();
        
        String ExpectedText = "https://test-ofs.pune.cdac.in/feedbackSystem/login/logmein";
        String ExpectedText1 = "https://test-ofs.pune.cdac.in/feedbackSystem/login/";
        
        String ActualText = driver.getCurrentUrl();

        // Note: If you are testing negative scenarios (wrong pass), 
        // these assertions might need to change based on the expected outcome.
        sa.assertEquals(ActualText, ExpectedText);
        sa.assertEquals(ActualText, ExpectedText1);

        sa.assertAll();
        System.out.println("Login attempt finished for user: " + username);
    }
	
//	@Test(priority=1)
//	public void verifyValidLogin() {
//		CenterHeadLogin chl = new CenterHeadLogin(driver);
//		chl.chlogin("401", "OFSCHead#12345");
//		
//		SoftAssert sa = new SoftAssert();
//		
//		String ExpectedText = "https://test-ofs.pune.cdac.in/feedbackSystem/login/logmein";
//		String ExpectedText1 = "https://test-ofs.pune.cdac.in/feedbackSystem/login/";
//
//		String ActualText = driver.getCurrentUrl();
//		
//		sa.assertEquals(ActualText, ExpectedText);
//		sa.assertEquals(ActualText, ExpectedText1);
//
//		
//		sa.assertAll();
//		
//		//Assert.assertEquals("Center Head Profile", "Center Head Profile", "Not the Center head's dashboard");
//		
//		
//		
//		
//		System.out.println("Center head logged in successfully.");
//	}
//	
	
//	@Test(priority=0)
//	public void verifyInvalidLogin() {
//		CenterHeadLogin chl = new CenterHeadLogin(driver);
//		chl.chlogin("404", "OFSCHead");
//
//	}
	
}




